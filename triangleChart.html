<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Triangle Chart</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script> <!-- Chart.js Datalabels Plugin -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
      
#triangleChart {
    display: block;
    max-width: 100%;
    max-height: 100%; 

}
    </style>
</head>
<body>
    <canvas id="triangleChart"></canvas> 

<script>



document.addEventListener('DOMContentLoaded', function() {

const triangleChartCtx = document.getElementById('triangleChart').getContext('2d');
const triangleChart = new Chart(triangleChartCtx, {
    type: 'radar',
    data: {
        labels: ['Ages 13-34', 'Ages 35-49', 'Age 50+'], 
        datasets: [
       
            {
                label: 'Trans',
                data: [11, 8, 8], 
                backgroundColor: 'rgba(242, 105, 95, 0.2)',
                borderColor: 'rgba(242, 105, 95, 1)',
                pointBackgroundColor: 'rgba(242, 105, 95, 1)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'rgba(242, 105, 95, 1)'
            },
            {
                label: 'Non-binary, other or multiple',
                data: [45, 21, 7], 
                backgroundColor: 'rgba(35, 153, 181, 0.2)',
                borderColor: 'rgba(35, 153, 181, 1)',
                pointBackgroundColor: 'rgba(35, 153, 181, 1)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'rgba(35, 153, 181, 1)'
            },
            {
                label: 'Straight, Gay, or Lesbian',
                data: [29, 48, 76], 
                backgroundColor: 'rgba(126, 188, 100, 0.2)',
                borderColor: 'rgba(126, 188, 100, 1)',
                pointBackgroundColor: 'rgba(126, 188, 100, 1)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'rgba(126, 188, 100, 1)'
            },
            {
                label: 'Bisexual, pansexual, queer, other',
                data: [71, 52, 24], 
                backgroundColor: 'rgba(153, 102, 255, 0.2)',
                borderColor: 'rgba(153, 102, 255, 1)',
                pointBackgroundColor: 'rgba(153, 102, 255, 1)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'rgba(153, 102, 255, 1)'
            },
            {
                label: 'Cisgender',
                data: [44, 72, 85], 
                backgroundColor: 'rgba(258, 206, 67, 0.2)',
                borderColor: 'rgba(258, 206, 67, 0.5)',
                pointBackgroundColor: 'rgba(258, 206, 67, 0.2)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'rgba(258, 206, 67, 0.2)'
            }
        ]
    },
    options: {
        responsive: true, 
        maintainAspectRatio: false, 
        layout: {
      
            padding: 0,
        },
        scales: {
            r: {
                ticks: {
                    display: true,
                    font: {
                        size: 10, 
                        family: 'Arial', 
                    }
                },
                angleLines: {
                    display: false
                },
                grid: {
                    circular: true
                }, 
                suggestedMin: 0,
                suggestedMax: 100,
                pointLabels: {
                    font: {
                        size: 14, 
                        family: 'Arial' 
                    }, 
                }
            }
        },
        plugins: {
            legend: {
        position: 'bottom', 
        labels: {
            boxWidth: 2, 
            boxHeight: 2,
            padding: 5,  
            font: {
                size: 12,  
                family: 'Arial', 
                style: 'normal', 
                weight: 'normal' 
            }
        },
        align: 'center', 
        maxHeight: 50, 
    },
            tooltip: {
                callbacks: {
                    label: function(context) {
                        let label = context.dataset.label || '';
                        if (label) {
                            label += ': ';
                        }
                        const value = context.raw;
                        label += value + '%'; // Append a '%' sign to each value
                        return label;
                    }
                }
            },

        
            
            
        },
        elements: {
            line: {
                borderWidth: 3
            }
        }
    }
});

});

function resizeCanvas() {
    var canvas = document.getElementById('triangleChart');
    if (!canvas) return;
    canvas.width = document.getElementById('column2').offsetWidth;
    canvas.height = Math.min(window.innerHeight * 0.75, 400);  

}

window.addEventListener('resize', resizeCanvas);
window.addEventListener('DOMContentLoaded', resizeCanvas);


</script>
</body>
</html>
